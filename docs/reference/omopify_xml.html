<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create an OMOP database from ICNARC XML — omopify_xml • icnarc2omop</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create an OMOP database from ICNARC XML — omopify_xml" />
<meta property="og:description" content="This function instantiates an OHDSI CDM (referred to throughout as OMOP for
brevity) database from raw ICNARC XML. It can be specfied to output either
version 5.3.1 or 6.0.0. In doing so, it creates an extremely spartan instance
of OMOP. This behaviour is intentional to short cut the creation of an OMOP
database, which can be a daunting process. After the OMOP database has been
created, you have the option to add more data directly from additional ICNARC
XML in the future, or begin to populate the database directly with data from
another source, with your patient and their outcomes already populated." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">icnarc2omop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CC-HIC/icnarc2omop">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an OMOP database from ICNARC XML</h1>
    <small class="dont-index">Source: <a href='https://github.com/CC-HIC/icnarc2omop/blob/master/R/omopify.R'><code>R/omopify.R</code></a></small>
    <div class="hidden name"><code>omopify_xml.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function instantiates an OHDSI CDM (referred to throughout as OMOP for
brevity) database from raw ICNARC XML. It can be specfied to output either
version 5.3.1 or 6.0.0. In doing so, it creates an extremely spartan instance
of OMOP. This behaviour is intentional to short cut the creation of an OMOP
database, which can be a daunting process. After the OMOP database has been
created, you have the option to add more data directly from additional ICNARC
XML in the future, or begin to populate the database directly with data from
another source, with your patient and their outcomes already populated.</p>
    </div>

    <pre class="usage"><span class='fu'>omopify_xml</span>(
  <span class='no'>project_path</span>,
  <span class='no'>nhs_trust</span>,
  <span class='kw'>cdm_version</span> <span class='kw'>=</span> <span class='st'>"5.3.1"</span>,
  <span class='kw'>vocabulary_version</span> <span class='kw'>=</span> <span class='st'>"5"</span>,
  <span class='kw'>database_name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>database_engine</span> <span class='kw'>=</span> <span class='st'>"postgres"</span>,
  <span class='kw'>host_name</span> <span class='kw'>=</span> <span class='st'>"localhost"</span>,
  <span class='kw'>port_no</span> <span class='kw'>=</span> <span class='fl'>5432</span>,
  <span class='kw'>username</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>from_empty</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>vocabulary</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>indexes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>constraints</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>sqlite_file</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>dummy_data</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>project_path</th>
      <td><p>the path to your project folder with the following
  populated folders:</p><ul>
<li><p>vocab - contains ATHENA vocabularies.</p></li>
<li><p>meta - constains metadata on the ICNARC ETL process.</p></li>
<li><p>xml - contains raw ICNARC XML in lexicographical order.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>nhs_trust</th>
      <td><p>a character string with the full name of the trust.</p></td>
    </tr>
    <tr>
      <th>cdm_version</th>
      <td><p>the version of the CDM you are using, choose from:</p><ul>
<li><p>5.3.1</p></li>
<li><p>6.0.0</p></li>
</ul></td>
    </tr>
    <tr>
      <th>vocabulary_version</th>
      <td><p>the version of the vocabulary you are using</p></td>
    </tr>
    <tr>
      <th>database_name</th>
      <td><p>the name of the database you are connecting to</p></td>
    </tr>
    <tr>
      <th>database_engine</th>
      <td><p>the database engine, choose from:</p><ul>
<li><p>sqlite: SQLite</p></li>
<li><p>postgres: PostgreSQL</p></li>
<li><p>mysql: Microsoft SQL Server (or similar varients)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>host_name</th>
      <td><p>host ip address</p></td>
    </tr>
    <tr>
      <th>port_no</th>
      <td><p>port number</p></td>
    </tr>
    <tr>
      <th>username</th>
      <td><p>username to database (*must* have write privaleges)</p></td>
    </tr>
    <tr>
      <th>from_empty</th>
      <td><p>logical flag: do you want to create the OMOP database from
stratch. If you want to first write out the tables yourself this can be
set to FALSE</p></td>
    </tr>
    <tr>
      <th>vocabulary</th>
      <td><p>logical flag: do you want to write out vocabularies</p></td>
    </tr>
    <tr>
      <th>indexes</th>
      <td><p>logical flag: do you want to create db with indexes</p></td>
    </tr>
    <tr>
      <th>constraints</th>
      <td><p>logical flag: do you want to create db with relational
constraints</p></td>
    </tr>
    <tr>
      <th>sqlite_file</th>
      <td><p>a filename if using sqlite</p></td>
    </tr>
    <tr>
      <th>dummy_data</th>
      <td><p>logical flag: do you want to ignore XML files and use local
dummy data instead</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>TRUE if completed without errors</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edward Palmer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


